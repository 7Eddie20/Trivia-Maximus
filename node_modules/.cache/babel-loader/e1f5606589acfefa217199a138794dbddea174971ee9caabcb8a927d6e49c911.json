{"ast":null,"code":"import _toConsumableArray from\"R:/Projects/Trivia-Maximus/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"R:/Projects/Trivia-Maximus/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"R:/Projects/Trivia-Maximus/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import'./QuestionBox.css';import{Badge}from'@chakra-ui/react';import quizContext from'../../context/quizContext';// #0b4b06 - bg\n// #53a24db5 - border\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var QuestionBox=function QuestionBox(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectedAns=_useState2[0],setSelectedAns=_useState2[1];var context=useContext(quizContext);var setScore=context.setScore,score=context.score,next=context.next,setNext=context.setNext,len=context.len,answerList=context.answerList,setAnswerList=context.setAnswerList;var question=props.question,options=props.options,category=props.category;//Here options[0] = options array and options[1] = correct answer\nvar i=-1;var alphabet=['A','B','C','D'];// let currentAlpha = ''\nvar removeClass=function removeClass(){var element=document.getElementsByClassName('q-box_body');for(var _i=0;_i<element.length;_i++){for(var j=0;j<element[_i].children.length;j++){element[_i].children[j].classList.remove('optionSelected');}}};//Update the score \nvar checkAnswer=function checkAnswer(selectedAns){if(selectedAns===''){return true;}else if(selectedAns===options[1]){setScore(_objectSpread(_objectSpread({},score),{},{'rightAnswers':score.rightAnswers+1}));}else{setScore(_objectSpread(_objectSpread({},score),{},{'wrongAnswers':score.wrongAnswers+1}));}};var handleOptionClick=function handleOptionClick(e){removeClass();setSelectedAns(e.target.innerText.slice(1).trim());var currentAlpha=e.target.innerText[0];document.getElementById(currentAlpha).classList.add('optionSelected');};var handleNextQuestion=function handleNextQuestion(){if(next<=len-1){checkAnswer(selectedAns);setNext(next+1);setSelectedAns('');}setAnswerList([].concat(_toConsumableArray(answerList),[{'question':question,'options':options[0],'id':\"id\".concat(next),'category':category,'myAnswer':selectedAns,'rightAnswer':options[1]}]));};// for reverse timer\nvar _useState3=useState(30),_useState4=_slicedToArray(_useState3,2),timer=_useState4[0],setTimer=_useState4[1];useEffect(function(){var myInterval=setInterval(function(){if(timer>0){setTimer(timer-1);}else{setNext(next+1);}},1000);return function(){clearInterval(myInterval);};});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"q-box mx-auto my-5 p-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"q-box_head\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"q-box_timer\",children:[timer,\"s\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"q-question\",dangerouslySetInnerHTML:{__html:question}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"q-box_body\",children:options[0].map(function(index){i++;return/*#__PURE__*/_jsxs(\"div\",{id:alphabet[i],onClick:handleOptionClick,className:\"q-box_options\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"option-icon\",children:alphabet[i]}),\" \",/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:index}})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap justify-content-between align-items-center mx-3\",children:[/*#__PURE__*/_jsx(Badge,{colorScheme:\"purple\",children:category}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextQuestion,className:\"btn btn-primary m-2\",children:next>=len-1?'Submit':'Next'})]})]})});};export default QuestionBox;","map":{"version":3,"names":["React","useContext","useEffect","useState","Badge","quizContext","QuestionBox","props","selectedAns","setSelectedAns","context","setScore","score","next","setNext","len","answerList","setAnswerList","question","options","category","i","alphabet","removeClass","element","document","getElementsByClassName","length","j","children","classList","remove","checkAnswer","rightAnswers","wrongAnswers","handleOptionClick","e","target","innerText","slice","trim","currentAlpha","getElementById","add","handleNextQuestion","timer","setTimer","myInterval","setInterval","clearInterval","__html","map","index"],"sources":["R:/Projects/Trivia-Maximus/src/components/QuestionBox/QuestionBox.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport './QuestionBox.css'\nimport { Badge } from '@chakra-ui/react'\nimport quizContext from '../../context/quizContext'\n\n\n// #0b4b06 - bg\n// #53a24db5 - border\n\n\nconst QuestionBox = (props) => {\n\n    const [selectedAns, setSelectedAns] = useState('')\n    const context = useContext(quizContext)\n    const { setScore, score, next, setNext, len, answerList, setAnswerList } = context\n    const { question, options, category } = props\n    //Here options[0] = options array and options[1] = correct answer\n    let i = -1\n    const alphabet = ['A', 'B', 'C', 'D']\n    // let currentAlpha = ''\n\n    const removeClass = () => {\n        let element = document.getElementsByClassName('q-box_body')\n        for (let i = 0; i < element.length; i++) {\n            for (let j = 0; j < element[i].children.length; j++) {\n                element[i].children[j].classList.remove('optionSelected')\n            }\n        }\n    }\n\n    //Update the score \n    const checkAnswer = (selectedAns) => {\n        if (selectedAns === '') {\n            return true;\n        } else if (selectedAns === options[1]) {\n            setScore({ ...score, 'rightAnswers': score.rightAnswers + 1 })\n        } else {\n            setScore({ ...score, 'wrongAnswers': score.wrongAnswers + 1 })\n        }\n    }\n\n    const handleOptionClick = (e) => {\n        removeClass()\n        setSelectedAns((e.target.innerText.slice(1)).trim())\n        const currentAlpha = e.target.innerText[0]\n        document.getElementById(currentAlpha).classList.add('optionSelected')\n    }\n\n    const handleNextQuestion = () => {\n        if (next <= len - 1) {\n            checkAnswer(selectedAns)\n            setNext(next + 1)\n            setSelectedAns('')\n        }\n        setAnswerList([...answerList, { 'question': question, 'options': options[0], 'id': `id${next}`, 'category': category, 'myAnswer': selectedAns, 'rightAnswer': options[1] }])\n    }\n\n    // for reverse timer\n    const [timer, setTimer] = useState(30)\n\n    useEffect(() => {\n        let myInterval = setInterval(() => {\n            if (timer > 0) {\n                setTimer(timer - 1)\n            } else {\n                setNext(next + 1)\n            }\n        }, 1000)\n        return () => {\n            clearInterval(myInterval);\n        };\n    })\n\n\n    return (\n        <>\n            <div className=\"q-box mx-auto my-5 p-4 text-center\">\n                <div className=\"q-box_head\">\n                    <div className=\"q-box_timer\">{timer}s</div>\n                    <div className=\"q-question\" dangerouslySetInnerHTML={{ __html: question }}></div>\n                </div>\n                <div className=\"q-box_body\">\n                    {\n                        options[0].map((index) => {\n                            i++;\n                            return <div id={alphabet[i]} key={index} onClick={handleOptionClick} className=\"q-box_options\">\n                                <div className='option-icon'>{alphabet[i]}</div> <div dangerouslySetInnerHTML={{ __html: index }}></div>\n                            </div>\n                        })\n                    }\n                </div>\n                <div className=\"d-flex flex-wrap justify-content-between align-items-center mx-3\">\n                    <Badge colorScheme='purple'>{category}</Badge>\n                    <button onClick={handleNextQuestion} className=\"btn btn-primary m-2\">{(next >= len - 1) ? 'Submit' : 'Next'}</button>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default QuestionBox\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}