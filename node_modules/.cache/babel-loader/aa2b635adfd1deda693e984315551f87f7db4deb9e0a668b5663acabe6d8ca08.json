{"ast":null,"code":"import _objectSpread from \"R:/Projects/Trivia-Maximus/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { animate } from './index.mjs';\nimport { getFrameData } from 'framesync';\nimport { velocityPerSecond } from '../../utils/velocity-per-second.mjs';\nfunction inertia(_ref) {\n  var _ref$from = _ref.from,\n    from = _ref$from === void 0 ? 0 : _ref$from,\n    _ref$velocity = _ref.velocity,\n    velocity = _ref$velocity === void 0 ? 0 : _ref$velocity,\n    min = _ref.min,\n    max = _ref.max,\n    _ref$power = _ref.power,\n    power = _ref$power === void 0 ? 0.8 : _ref$power,\n    _ref$timeConstant = _ref.timeConstant,\n    timeConstant = _ref$timeConstant === void 0 ? 750 : _ref$timeConstant,\n    _ref$bounceStiffness = _ref.bounceStiffness,\n    bounceStiffness = _ref$bounceStiffness === void 0 ? 500 : _ref$bounceStiffness,\n    _ref$bounceDamping = _ref.bounceDamping,\n    bounceDamping = _ref$bounceDamping === void 0 ? 10 : _ref$bounceDamping,\n    _ref$restDelta = _ref.restDelta,\n    restDelta = _ref$restDelta === void 0 ? 1 : _ref$restDelta,\n    modifyTarget = _ref.modifyTarget,\n    driver = _ref.driver,\n    _onUpdate = _ref.onUpdate,\n    onComplete = _ref.onComplete,\n    onStop = _ref.onStop;\n  var currentAnimation;\n  function isOutOfBounds(v) {\n    return min !== undefined && v < min || max !== undefined && v > max;\n  }\n  function boundaryNearest(v) {\n    if (min === undefined) return max;\n    if (max === undefined) return min;\n    return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n  }\n  function startAnimation(options) {\n    currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    currentAnimation = animate(_objectSpread(_objectSpread({}, options), {}, {\n      driver: driver,\n      onUpdate: function onUpdate(v) {\n        var _a;\n        _onUpdate === null || _onUpdate === void 0 ? void 0 : _onUpdate(v);\n        (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n      },\n      onComplete: onComplete,\n      onStop: onStop\n    }));\n  }\n  function startSpring(options) {\n    startAnimation(_objectSpread({\n      type: \"spring\",\n      stiffness: bounceStiffness,\n      damping: bounceDamping,\n      restDelta: restDelta\n    }, options));\n  }\n  if (isOutOfBounds(from)) {\n    // Start the animation with spring if outside the defined boundaries\n    startSpring({\n      from: from,\n      velocity: velocity,\n      to: boundaryNearest(from)\n    });\n  } else {\n    /**\r\n     * Or if the value is out of bounds, simulate the inertia movement\r\n     * with the decay animation.\r\n     *\r\n     * Pre-calculate the target so we can detect if it's out-of-bounds.\r\n     * If it is, we want to check per frame when to switch to a spring\r\n     * animation\r\n     */\n    var target = power * velocity + from;\n    if (typeof modifyTarget !== \"undefined\") target = modifyTarget(target);\n    var boundary = boundaryNearest(target);\n    var heading = boundary === min ? -1 : 1;\n    var prev;\n    var current;\n    var checkBoundary = function checkBoundary(v) {\n      prev = current;\n      current = v;\n      velocity = velocityPerSecond(v - prev, getFrameData().delta);\n      if (heading === 1 && v > boundary || heading === -1 && v < boundary) {\n        startSpring({\n          from: v,\n          to: boundary,\n          velocity: velocity\n        });\n      }\n    };\n    startAnimation({\n      type: \"decay\",\n      from: from,\n      velocity: velocity,\n      timeConstant: timeConstant,\n      power: power,\n      restDelta: restDelta,\n      modifyTarget: modifyTarget,\n      onUpdate: isOutOfBounds(target) ? checkBoundary : undefined\n    });\n  }\n  return {\n    stop: function stop() {\n      return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    }\n  };\n}\nexport { inertia };","map":{"version":3,"names":["animate","getFrameData","velocityPerSecond","inertia","from","velocity","min","max","power","timeConstant","bounceStiffness","bounceDamping","restDelta","modifyTarget","driver","onUpdate","onComplete","onStop","currentAnimation","isOutOfBounds","v","undefined","boundaryNearest","Math","abs","startAnimation","options","stop","_a","call","startSpring","type","stiffness","damping","to","target","boundary","heading","prev","current","checkBoundary","delta"],"sources":["R:/Projects/Trivia-Maximus/node_modules/framer-motion/dist/es/animation/legacy-popmotion/inertia.mjs"],"sourcesContent":["import { animate } from './index.mjs';\r\nimport { getFrameData } from 'framesync';\r\nimport { velocityPerSecond } from '../../utils/velocity-per-second.mjs';\r\n\r\nfunction inertia({ from = 0, velocity = 0, min, max, power = 0.8, timeConstant = 750, bounceStiffness = 500, bounceDamping = 10, restDelta = 1, modifyTarget, driver, onUpdate, onComplete, onStop, }) {\r\n    let currentAnimation;\r\n    function isOutOfBounds(v) {\r\n        return (min !== undefined && v < min) || (max !== undefined && v > max);\r\n    }\r\n    function boundaryNearest(v) {\r\n        if (min === undefined)\r\n            return max;\r\n        if (max === undefined)\r\n            return min;\r\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\r\n    }\r\n    function startAnimation(options) {\r\n        currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\r\n        currentAnimation = animate({\r\n            ...options,\r\n            driver,\r\n            onUpdate: (v) => {\r\n                var _a;\r\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(v);\r\n                (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\r\n            },\r\n            onComplete,\r\n            onStop,\r\n        });\r\n    }\r\n    function startSpring(options) {\r\n        startAnimation({\r\n            type: \"spring\",\r\n            stiffness: bounceStiffness,\r\n            damping: bounceDamping,\r\n            restDelta,\r\n            ...options,\r\n        });\r\n    }\r\n    if (isOutOfBounds(from)) {\r\n        // Start the animation with spring if outside the defined boundaries\r\n        startSpring({ from, velocity, to: boundaryNearest(from) });\r\n    }\r\n    else {\r\n        /**\r\n         * Or if the value is out of bounds, simulate the inertia movement\r\n         * with the decay animation.\r\n         *\r\n         * Pre-calculate the target so we can detect if it's out-of-bounds.\r\n         * If it is, we want to check per frame when to switch to a spring\r\n         * animation\r\n         */\r\n        let target = power * velocity + from;\r\n        if (typeof modifyTarget !== \"undefined\")\r\n            target = modifyTarget(target);\r\n        const boundary = boundaryNearest(target);\r\n        const heading = boundary === min ? -1 : 1;\r\n        let prev;\r\n        let current;\r\n        const checkBoundary = (v) => {\r\n            prev = current;\r\n            current = v;\r\n            velocity = velocityPerSecond(v - prev, getFrameData().delta);\r\n            if ((heading === 1 && v > boundary) ||\r\n                (heading === -1 && v < boundary)) {\r\n                startSpring({ from: v, to: boundary, velocity });\r\n            }\r\n        };\r\n        startAnimation({\r\n            type: \"decay\",\r\n            from,\r\n            velocity,\r\n            timeConstant,\r\n            power,\r\n            restDelta,\r\n            modifyTarget,\r\n            onUpdate: isOutOfBounds(target) ? checkBoundary : undefined,\r\n        });\r\n    }\r\n    return {\r\n        stop: () => currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop(),\r\n    };\r\n}\r\n\r\nexport { inertia };\r\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,aAAa;AACrC,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,iBAAiB,QAAQ,qCAAqC;AAEvE,SAASC,OAAO,OAAuL;EAAA,qBAApLC,IAAI;IAAJA,IAAI,0BAAG,CAAC;IAAA,qBAAEC,QAAQ;IAARA,QAAQ,8BAAG,CAAC;IAAEC,GAAG,QAAHA,GAAG;IAAEC,GAAG,QAAHA,GAAG;IAAA,kBAAEC,KAAK;IAALA,KAAK,2BAAG,GAAG;IAAA,yBAAEC,YAAY;IAAZA,YAAY,kCAAG,GAAG;IAAA,4BAAEC,eAAe;IAAfA,eAAe,qCAAG,GAAG;IAAA,0BAAEC,aAAa;IAAbA,aAAa,mCAAG,EAAE;IAAA,sBAAEC,SAAS;IAATA,SAAS,+BAAG,CAAC;IAAEC,YAAY,QAAZA,YAAY;IAAEC,MAAM,QAANA,MAAM;IAAEC,SAAQ,QAARA,QAAQ;IAAEC,UAAU,QAAVA,UAAU;IAAEC,MAAM,QAANA,MAAM;EAC9L,IAAIC,gBAAgB;EACpB,SAASC,aAAa,CAACC,CAAC,EAAE;IACtB,OAAQd,GAAG,KAAKe,SAAS,IAAID,CAAC,GAAGd,GAAG,IAAMC,GAAG,KAAKc,SAAS,IAAID,CAAC,GAAGb,GAAI;EAC3E;EACA,SAASe,eAAe,CAACF,CAAC,EAAE;IACxB,IAAId,GAAG,KAAKe,SAAS,EACjB,OAAOd,GAAG;IACd,IAAIA,GAAG,KAAKc,SAAS,EACjB,OAAOf,GAAG;IACd,OAAOiB,IAAI,CAACC,GAAG,CAAClB,GAAG,GAAGc,CAAC,CAAC,GAAGG,IAAI,CAACC,GAAG,CAACjB,GAAG,GAAGa,CAAC,CAAC,GAAGd,GAAG,GAAGC,GAAG;EAC5D;EACA,SAASkB,cAAc,CAACC,OAAO,EAAE;IAC7BR,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACS,IAAI,EAAE;IAC3FT,gBAAgB,GAAGlB,OAAO,iCACnB0B,OAAO;MACVZ,MAAM,EAANA,MAAM;MACNC,QAAQ,EAAE,kBAACK,CAAC,EAAK;QACb,IAAIQ,EAAE;QACNb,SAAQ,KAAK,IAAI,IAAIA,SAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAQ,CAACK,CAAC,CAAC;QAC/D,CAACQ,EAAE,GAAGF,OAAO,CAACX,QAAQ,MAAM,IAAI,IAAIa,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAACH,OAAO,EAAEN,CAAC,CAAC;MACpF,CAAC;MACDJ,UAAU,EAAVA,UAAU;MACVC,MAAM,EAANA;IAAM,GACR;EACN;EACA,SAASa,WAAW,CAACJ,OAAO,EAAE;IAC1BD,cAAc;MACVM,IAAI,EAAE,QAAQ;MACdC,SAAS,EAAEtB,eAAe;MAC1BuB,OAAO,EAAEtB,aAAa;MACtBC,SAAS,EAATA;IAAS,GACNc,OAAO,EACZ;EACN;EACA,IAAIP,aAAa,CAACf,IAAI,CAAC,EAAE;IACrB;IACA0B,WAAW,CAAC;MAAE1B,IAAI,EAAJA,IAAI;MAAEC,QAAQ,EAARA,QAAQ;MAAE6B,EAAE,EAAEZ,eAAe,CAAClB,IAAI;IAAE,CAAC,CAAC;EAC9D,CAAC,MACI;IACD;AACR;AACA;AACA;AACA;AACA;AACA;AACA;IACQ,IAAI+B,MAAM,GAAG3B,KAAK,GAAGH,QAAQ,GAAGD,IAAI;IACpC,IAAI,OAAOS,YAAY,KAAK,WAAW,EACnCsB,MAAM,GAAGtB,YAAY,CAACsB,MAAM,CAAC;IACjC,IAAMC,QAAQ,GAAGd,eAAe,CAACa,MAAM,CAAC;IACxC,IAAME,OAAO,GAAGD,QAAQ,KAAK9B,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;IACzC,IAAIgC,IAAI;IACR,IAAIC,OAAO;IACX,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CAAIpB,CAAC,EAAK;MACzBkB,IAAI,GAAGC,OAAO;MACdA,OAAO,GAAGnB,CAAC;MACXf,QAAQ,GAAGH,iBAAiB,CAACkB,CAAC,GAAGkB,IAAI,EAAErC,YAAY,EAAE,CAACwC,KAAK,CAAC;MAC5D,IAAKJ,OAAO,KAAK,CAAC,IAAIjB,CAAC,GAAGgB,QAAQ,IAC7BC,OAAO,KAAK,CAAC,CAAC,IAAIjB,CAAC,GAAGgB,QAAS,EAAE;QAClCN,WAAW,CAAC;UAAE1B,IAAI,EAAEgB,CAAC;UAAEc,EAAE,EAAEE,QAAQ;UAAE/B,QAAQ,EAARA;QAAS,CAAC,CAAC;MACpD;IACJ,CAAC;IACDoB,cAAc,CAAC;MACXM,IAAI,EAAE,OAAO;MACb3B,IAAI,EAAJA,IAAI;MACJC,QAAQ,EAARA,QAAQ;MACRI,YAAY,EAAZA,YAAY;MACZD,KAAK,EAALA,KAAK;MACLI,SAAS,EAATA,SAAS;MACTC,YAAY,EAAZA,YAAY;MACZE,QAAQ,EAAEI,aAAa,CAACgB,MAAM,CAAC,GAAGK,aAAa,GAAGnB;IACtD,CAAC,CAAC;EACN;EACA,OAAO;IACHM,IAAI,EAAE;MAAA,OAAMT,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACS,IAAI,EAAE;IAAA;EAC3G,CAAC;AACL;AAEA,SAASxB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}