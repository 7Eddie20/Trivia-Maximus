{"ast":null,"code":"var _jsxFileName = \"R:\\\\Projects\\\\Quiz-App\\\\src\\\\components\\\\QuestionBox\\\\QuestionBox.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport './QuestionBox.css';\nimport { Badge } from '@chakra-ui/react';\nimport quizContext from '../../context/quizContext';\nimport clickAudio from './../../Assets/select-sound.mp3';\n\n// #0b4b06 - bg\n// #53a24db5 - border\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QuestionBox = props => {\n  _s();\n  const [selectedAns, setSelectedAns] = useState('');\n  const context = useContext(quizContext);\n  const {\n    setScore,\n    score,\n    next,\n    setNext,\n    len,\n    answerList,\n    setAnswerList\n  } = context;\n  const {\n    question,\n    options,\n    category\n  } = props;\n  //Here options[0] = options array and options[1] = correct answer\n  let i = -1;\n  const alphabet = ['A', 'B', 'C', 'D'];\n  // let currentAlpha = ''\n\n  const removeClass = () => {\n    let element = document.getElementsByClassName('q-box_body');\n    for (let i = 0; i < element.length; i++) {\n      for (let j = 0; j < element[i].children.length; j++) {\n        element[i].children[j].classList.remove('optionSelected');\n      }\n    }\n  };\n\n  //Update the score \n  const checkAnswer = selectedAns => {\n    if (selectedAns === '') {\n      return true;\n    } else if (selectedAns === options[1]) {\n      setScore({\n        ...score,\n        'rightAnswers': score.rightAnswers + 1\n      });\n    } else {\n      setScore({\n        ...score,\n        'wrongAnswers': score.wrongAnswers + 1\n      });\n    }\n  };\n  const handleOptionClick = e => {\n    audio.play();\n    removeClass();\n    setSelectedAns(e.target.innerText.slice(1).trim());\n    const currentAlpha = e.target.innerText[0];\n    document.getElementById(currentAlpha).classList.add('optionSelected');\n  };\n  const handleNextQuestion = () => {\n    if (next <= len - 1) {\n      checkAnswer(selectedAns);\n      setNext(next + 1);\n      setSelectedAns('');\n    }\n    setAnswerList([...answerList, {\n      'question': question,\n      'options': options[0],\n      'id': `id${next}`,\n      'category': category,\n      'myAnswer': selectedAns,\n      'rightAnswer': options[1]\n    }]);\n  };\n\n  // for reverse timer\n  const [timer, setTimer] = useState(30);\n  useEffect(() => {\n    let myInterval = setInterval(() => {\n      if (timer > 0) {\n        setTimer(timer - 1);\n      } else {\n        setNext(next + 1);\n      }\n    }, 1000);\n    return () => {\n      clearInterval(myInterval);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"q-box mx-auto my-5 p-4 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"q-box_head\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"q-box_timer\",\n          children: [timer, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"q-question\",\n          dangerouslySetInnerHTML: {\n            __html: question\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"q-box_body\",\n        children: options[0].map(index => {\n          i++;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            id: alphabet[i],\n            onClick: handleOptionClick,\n            className: \"q-box_options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-icon\",\n              children: alphabet[i]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: index\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 82\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 36\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-wrap justify-content-between align-items-center mx-3\",\n        children: [/*#__PURE__*/_jsxDEV(Badge, {\n          colorScheme: \"purple\",\n          children: category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextQuestion,\n          className: \"btn btn-primary m-2\",\n          children: next >= len - 1 ? 'Submit' : 'Next'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(QuestionBox, \"/fkLgq8XOgG3EssX8EsPOlzirlI=\");\n_c = QuestionBox;\nexport default QuestionBox;\nvar _c;\n$RefreshReg$(_c, \"QuestionBox\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Badge","quizContext","clickAudio","QuestionBox","props","selectedAns","setSelectedAns","context","setScore","score","next","setNext","len","answerList","setAnswerList","question","options","category","i","alphabet","removeClass","element","document","getElementsByClassName","length","j","children","classList","remove","checkAnswer","rightAnswers","wrongAnswers","handleOptionClick","e","audio","play","target","innerText","slice","trim","currentAlpha","getElementById","add","handleNextQuestion","timer","setTimer","myInterval","setInterval","clearInterval","__html","map","index"],"sources":["R:/Projects/Quiz-App/src/components/QuestionBox/QuestionBox.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport './QuestionBox.css'\nimport { Badge } from '@chakra-ui/react'\nimport quizContext from '../../context/quizContext'\nimport clickAudio from './../../Assets/select-sound.mp3'\n\n// #0b4b06 - bg\n// #53a24db5 - border\n\n\nconst QuestionBox = (props) => {\n\n    const [selectedAns, setSelectedAns] = useState('')\n    const context = useContext(quizContext)\n    const { setScore, score, next, setNext, len, answerList, setAnswerList } = context\n    const { question, options, category } = props\n    //Here options[0] = options array and options[1] = correct answer\n    let i = -1\n    const alphabet = ['A', 'B', 'C', 'D']\n    // let currentAlpha = ''\n\n    const removeClass = () => {\n        let element = document.getElementsByClassName('q-box_body')\n        for (let i = 0; i < element.length; i++) {\n            for (let j = 0; j < element[i].children.length; j++) {\n                element[i].children[j].classList.remove('optionSelected')\n            }\n        }\n    }\n\n    //Update the score \n    const checkAnswer = (selectedAns) => {\n        if (selectedAns === '') {\n            return true;\n        } else if (selectedAns === options[1]) {\n            setScore({ ...score, 'rightAnswers': score.rightAnswers + 1 })\n        } else {\n            setScore({ ...score, 'wrongAnswers': score.wrongAnswers + 1 })\n        }\n    }\n\n    const handleOptionClick = (e) => {\n        audio.play();\n        removeClass()\n        setSelectedAns((e.target.innerText.slice(1)).trim())\n        const currentAlpha = e.target.innerText[0]\n        document.getElementById(currentAlpha).classList.add('optionSelected')\n    }\n\n    const handleNextQuestion = () => {\n        if (next <= len - 1) {\n            checkAnswer(selectedAns)\n            setNext(next + 1)\n            setSelectedAns('')\n        }\n        setAnswerList([...answerList, { 'question': question, 'options': options[0], 'id': `id${next}`, 'category': category, 'myAnswer': selectedAns, 'rightAnswer': options[1] }])\n    }\n\n    // for reverse timer\n    const [timer, setTimer] = useState(30)\n\n    useEffect(() => {\n        let myInterval = setInterval(() => {\n            if (timer > 0) {\n                setTimer(timer - 1)\n            } else {\n                setNext(next + 1)\n            }\n        }, 1000)\n        return () => {\n            clearInterval(myInterval);\n        };\n    })\n\n\n    return (\n        <>\n            <div className=\"q-box mx-auto my-5 p-4 text-center\">\n                <div className=\"q-box_head\">\n                    <div className=\"q-box_timer\">{timer}s</div>\n                    <div className=\"q-question\" dangerouslySetInnerHTML={{ __html: question }}></div>\n                </div>\n                <div className=\"q-box_body\">\n                    {\n                        options[0].map((index) => {\n                            i++;\n                            return <div id={alphabet[i]} key={index} onClick={handleOptionClick} className=\"q-box_options\">\n                                <div className='option-icon'>{alphabet[i]}</div> <div dangerouslySetInnerHTML={{ __html: index }}></div>\n                            </div>\n                        })\n                    }\n                </div>\n                <div className=\"d-flex flex-wrap justify-content-between align-items-center mx-3\">\n                    <Badge colorScheme='purple'>{category}</Badge>\n                    <button onClick={handleNextQuestion} className=\"btn btn-primary m-2\">{(next >= len - 1) ? 'Submit' : 'Next'}</button>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default QuestionBox\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}